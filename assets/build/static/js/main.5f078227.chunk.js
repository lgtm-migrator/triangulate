(this.webpackJsonpassets=this.webpackJsonpassets||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(22),r=a.n(i),h=(a(34),a(23)),l=a(27),c=a(24),o=a(25),d=a(9),j=a(29),u=a(28);a(35);var m=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Triangulate.xyz - Randomly Generated Art"))},b=a(60),g=a(64),x=a(61),p=a(26),O=a(63),C=a(62),k=a(65),f=a(12),y=a.n(f),v=a(1),I=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFileChange=function(e){var t=Array.from(e.target.files);n.setState({filesUpload:t}),console.log(n.state.filesUpload)},n.toggleButtonState=function(){n.setState({isLoading:!0,randomImage:!1});var e=new FormData;null!=n.state.filesUpload&&n.state.filesUpload.forEach((function(t){e.append("fileUpload",t)}));for(var t={width:n.state.width,height:n.state.height,shapes:n.state.shapes,type:n.state.imageType,shapeStroke:n.state.shapeStroke,triangulate:n.state.triangulate,triangulateBefore:n.state.triangulateBefore,strokeThickness:n.state.strokeThickness,complexityAmount:n.state.complexityAmount,min:n.state.min,max:n.state.max,maxPoints:n.state.maxPoints,pointsThreshold:n.state.pointsThreshold,sobelThreshold:n.state.sobelThreshold,triangulateWireframe:n.state.triangulateWireframe,triangulateNoise:n.state.triangulateNoise,triangulateGrayscale:n.state.triangulateGrayscale},a=0,s=Object.entries(t);a<s.length;a++){var i=Object(l.a)(s[a],2),r=i[0],h=i[1];e.append(r,h)}y.a.post("/api/v1/generate",e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){n.setState({queue:e.data.queue,identifier:e.data.identifier}),n.poll()})).catch((function(e){console.log(e)}))},n.state={queue:null,image:"",timer:null,identifier:"",isLoading:!1,width:1200,height:675,shapes:!0,shapeStroke:!0,triangulate:!1,triangulateBefore:!1,strokeThickness:5,complexityAmount:50,min:4,max:4,imageType:"random",filesUpload:null,maxPoints:2500,pointsThreshold:20,sobelThreshold:10,triangulateWireframe:!1,triangulateNoise:!1,triangulateGrayscale:!1,randomImage:!1,thumbnail:"",user_link:"",user_location:"",user_name:"",dots:".",image_link:""},n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.onFileChange=n.onFileChange.bind(Object(d.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;"max"===n?parseInt(a)<parseInt(this.state.min)&&(a=this.state.min):"min"===n?parseInt(a)>parseInt(this.state.max)&&(a=this.state.max):"width"===n||"height"===n?a>2e3?a=2e3:a<0&&(a=0):"triangulate"===n?a||this.state.shapes||this.setState({shapes:!0}):"shapes"===n&&(a||this.state.triangulate||this.setState({triangulate:!0})),this.setState(Object(h.a)({},n,a))}},{key:"poll",value:function(){var e=this;this.state.timer=setInterval((function(){y.a.get("/api/v1/generate/"+e.state.identifier).then((function(t){e.setState({queue:t.data.queue,image:t.data.link}),t.data.randomImage&&e.setState({randomImage:!0,description:t.data.description,thumbnail:t.data.thumbnail,user_link:t.data.user_link,user_location:t.data.user_location,user_name:t.data.user_name,image_link:t.data.image_link}),e.setState({dots:e.state.dots+"."}),""!==e.state.image&&(e.setState({dots:"."}),clearInterval(e.state.timer),e.setState({isLoading:!1}))})).catch((function(t){alert(t),clearInterval(e.state.timer),e.setState({isLoading:!1,dots:"."})}))}),1e3)}},{key:"render",value:function(){var e="";""!==this.state.image?e=Object(v.jsx)(b.a,{src:this.state.image,fluid:!0}):this.state.queue>0?e=Object(v.jsxs)("div",{children:["Rendering, you are ",this.state.queue," in the queue."]}):0===this.state.queue&&(e=Object(v.jsxs)("div",{children:["Rendering, your image is being generated",this.state.dots]}));var t="";this.state.randomImage&&(t=Object(v.jsx)(g.a,{style:{width:"100%"},children:Object(v.jsxs)(x.a,{children:[Object(v.jsx)(p.a,{md:6,children:Object(v.jsx)("a",{href:this.state.image_link,children:Object(v.jsx)(g.a.Img,{style:{height:"100%"},src:this.state.thumbnail})})}),Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(g.a.Body,{children:[Object(v.jsx)(g.a.Title,{children:"Your random image"}),Object(v.jsxs)(g.a.Text,{children:[this.state.description,"Photo by ",Object(v.jsx)("a",{href:this.state.user_link+"?utm_source=triangulate&utm_medium=referral",children:this.state.user_name})," on ",Object(v.jsx)("a",{href:"https://unsplash.com/?utm_source=triangulate&utm_medium=referral",children:"Unsplash"})]})]})})]})}));var a,n,s,i,r,h,l,c,o,d,j="";this.state.triangulate&&(a=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"sobelThreshold",children:[Object(v.jsx)(O.a.Label,{children:"Sobel Threshold"}),Object(v.jsx)(O.a.Control,{min:"5",max:"20",name:"sobelThreshold",value:this.state.sobelThreshold,onChange:this.handleInputChange,type:"range"})]})}),n=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"pointsThreshold",children:[Object(v.jsx)(O.a.Label,{children:"Points Threshold"}),Object(v.jsx)(O.a.Control,{min:"10",max:"30",name:"pointsThreshold",value:this.state.pointsThreshold,onChange:this.handleInputChange,type:"range"})]})}),s=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"maxPoints",children:[Object(v.jsx)(O.a.Label,{children:"Max Points"}),Object(v.jsx)(O.a.Control,{min:"500",max:"5000",name:"maxPoints",value:this.state.maxPoints,onChange:this.handleInputChange,type:"range"})]})}),i=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"strokeWidth",children:[Object(v.jsx)(O.a.Label,{children:"Stroke Width"}),Object(v.jsx)(O.a.Control,{min:"1",max:"10",name:"strokeWidth",value:this.state.strokeWidth,onChange:this.handleInputChange,type:"range"})]})}),r=Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.triangulateWireframe,onChange:this.handleInputChange,name:"triangulateWireframe",label:"Wireframe",type:"checkbox",id:"wireframe"})})}),h=Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.triangulateNoise,onChange:this.handleInputChange,name:"triangulateNoise",label:"Noise",type:"checkbox",id:"noise"})})}),l=Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.triangulateGrayscale,onChange:this.handleInputChange,name:"triangulateGrayscale",label:"Grayscale",type:"checkbox",id:"grayscale"})})})),this.state.shapes&&(c=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(x.a,{children:[Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(O.a.Group,{controlId:"shapeVertexMin",children:[Object(v.jsxs)(O.a.Label,{children:["Min vertices: ",this.state.min]}),Object(v.jsx)(O.a.Control,{min:"3",max:"10",name:"min",value:this.state.min,onChange:this.handleInputChange,type:"range"})]})}),Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(O.a.Group,{controlId:"shapeVertexMax",children:[Object(v.jsxs)(O.a.Label,{children:["Max vertices: ",this.state.max]}),Object(v.jsx)(O.a.Control,{min:"3",max:"10",name:"max",value:this.state.max,onChange:this.handleInputChange,type:"range"})]})})]})}),o=Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.shapeStroke,onChange:this.handleInputChange,name:"shapeStroke",label:"Add a stroke to shapes",type:"checkbox",id:"Shapes"})})}),d=Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"strokeThickness",children:[Object(v.jsx)(O.a.Label,{children:"Stroke thickness"}),Object(v.jsx)(O.a.Control,{min:"1",max:"10",name:"strokeThickness",value:this.state.strokeThickness,onChange:this.handleInputChange,type:"range"})]})}),this.state.triangulate&&(j=Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.triangulateBefore,onChange:this.handleInputChange,name:"triangulateBefore",label:"Triangulate before shapes",type:"checkbox",id:"TriangulateBefore"})})));var u="";if("upload"===this.state.imageType){var f="Select a file";null===this.state.fileUpload&&(f="Selected file"),u=Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.File,{id:"fileUpload",name:"fileUpload",label:f,onChange:this.onFileChange})})})}return Object(v.jsxs)(C.a,{children:[Object(v.jsxs)(x.a,{children:[Object(v.jsx)(p.a,{md:12,children:Object(v.jsx)(m,{})}),Object(v.jsx)(p.a,{md:12,children:Object(v.jsxs)(O.a,{children:[Object(v.jsxs)(x.a,{children:[Object(v.jsxs)(p.a,{md:6,children:[Object(v.jsxs)(O.a.Group,{children:[Object(v.jsx)(O.a.Label,{column:!0,mb:12,children:"An image is used as a starting point"}),Object(v.jsxs)("div",{className:"mb-12",children:[Object(v.jsx)(O.a.Check,{name:"imageType",inline:!0,label:"Upload an image",type:"radio",id:"inline-radio-1",value:"upload",checked:"upload"===this.state.imageType,onChange:this.handleInputChange}),Object(v.jsx)(O.a.Check,{name:"imageType",inline:!0,label:"Use a random image",type:"radio",id:"inline-radio-2",value:"random",checked:"random"===this.state.imageType,onChange:this.handleInputChange})]},"inline-radio")]}),u]}),Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(x.a,{children:[Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(O.a.Group,{controlId:"widthGroup",children:[Object(v.jsx)(O.a.Label,{children:"Width"}),Object(v.jsx)(O.a.Control,{value:this.state.width,onChange:this.handleInputChange,name:"width",type:"Text"})]})}),Object(v.jsx)(p.a,{md:6,children:Object(v.jsxs)(O.a.Group,{controlId:"heightGroup",children:[Object(v.jsx)(O.a.Label,{children:"Height"}),Object(v.jsx)(O.a.Control,{value:this.state.height,onChange:this.handleInputChange,name:"height",type:"Text"})]})})]})})]}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.triangulate,onChange:this.handleInputChange,name:"triangulate",label:"Triangulate",type:"checkbox",id:"Triangulate"})})}),Object(v.jsx)(p.a,{md:4,children:Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(O.a.Check,{checked:this.state.shapes,onChange:this.handleInputChange,name:"shapes",label:"Add Shapes",type:"checkbox",id:"Shapes"})})}),r,h,l,j,o,Object(v.jsx)(p.a,{md:4,children:Object(v.jsxs)(O.a.Group,{controlId:"ComplexityAmount",children:[Object(v.jsx)(O.a.Label,{children:"Complexity"}),Object(v.jsx)(O.a.Control,{min:"1",max:"100",name:"complexityAmount",value:this.state.complexityAmount,onChange:this.handleInputChange,type:"range"})]})}),c,d,a,n,s,i]}),Object(v.jsx)(O.a.Group,{children:Object(v.jsx)(k.a,{disabled:this.state.isLoading,onClick:this.toggleButtonState,variant:"primary",children:"Generate!"})})]})})]}),Object(v.jsx)(x.a,{children:Object(v.jsx)(p.a,{md:12,children:e})}),Object(v.jsx)(x.a,{style:{"margin-top":"20px"},children:Object(v.jsx)(p.a,{md:12,children:t})}),Object(v.jsx)(x.a,{style:{"margin-bottom":"50px"},children:Object(v.jsxs)(p.a,{md:12,children:[Object(v.jsx)("hr",{}),"Created by ",Object(v.jsx)("a",{href:"https://github.com/uberswe",children:"Markus Tenghamn"})," | Contact ",Object(v.jsx)("a",{href:"mailto:markus@triangulate.xyz",children:"markus@triangulate.xyz"}),Object(v.jsx)("hr",{}),"This project uses ideas and code from ",Object(v.jsx)("a",{href:"https://github.com/esimov/triangle",children:"github.com/esimov/triangle"})," and ",Object(v.jsx)("a",{href:"https://github.com/preslavrachev/generative-art-in-go",children:"github.com/preslavrachev/generative-art-in-go"})]})})]})}},{key:"componentWillUnmount",value:function(){this.timer=null}}]),a}(s.a.Component),T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),T()}},[[58,1,2]]]);
//# sourceMappingURL=main.5f078227.chunk.js.map