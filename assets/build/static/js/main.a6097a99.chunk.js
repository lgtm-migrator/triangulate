(this.webpackJsonpassets=this.webpackJsonpassets||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(21),h=a.n(i),r=(a(33),a(22)),c=a(26),l=a(23),o=a(24),d=a(8),j=a(28),u=a(27);a(34);var b=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Triangulate.xyz - Randomly Generated Art"))},g=a(60),p=a(25),m=a(61),x=a(63),O=a(62),f=a(64),C=a(11),v=a.n(C),k=(a(53),a(1)),y=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onFileChange=function(e){var t=Array.from(e.target.files);n.setState({filesUpload:t}),console.log(n.state.filesUpload)},n.toggleButtonState=function(){n.setState({isLoading:!0});var e=new FormData;null!=n.state.filesUpload&&n.state.filesUpload.forEach((function(t){e.append("fileUpload",t)}));for(var t={width:n.state.width,height:n.state.height,shapes:n.state.shapes,type:n.state.imageType,shapeStroke:n.state.shapeStroke,triangulate:n.state.triangulate,triangulateBefore:n.state.triangulateBefore,strokeThickness:n.state.strokeThickness,blurAmount:n.state.blurAmount,min:n.state.min,max:n.state.max},a=0,s=Object.entries(t);a<s.length;a++){var i=Object(c.a)(s[a],2),h=i[0],r=i[1];e.append(h,r)}v.a.post("/api/v1/generate",e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){n.setState({queue:e.data.queue,identifier:e.data.identifier}),n.poll()})).catch((function(e){console.log(e)}))},n.state={queue:null,image:"",timer:null,identifier:"",isLoading:!1,width:1200,height:675,shapes:!0,shapeStroke:!0,triangulate:!1,triangulateBefore:!1,strokeThickness:5,blurAmount:5,min:4,max:4,imageType:"random",filesUpload:null},n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.onFileChange=n.onFileChange.bind(Object(d.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;"max"===n?parseInt(a)<parseInt(this.state.min)&&(a=this.state.min):"min"===n?parseInt(a)>parseInt(this.state.max)&&(a=this.state.max):"width"===n||"height"===n?a>1200?a=1200:a<0&&(a=0):"triangulate"===n?a||this.state.shapes||this.setState({shapes:!0}):"shapes"===n&&(a||this.state.triangulate||this.setState({triangulate:!0})),this.setState(Object(r.a)({},n,a))}},{key:"poll",value:function(){var e=this;this.state.timer=setInterval((function(){v.a.get("/api/v1/generate/"+e.state.identifier).then((function(t){e.setState({queue:t.data.queue,image:t.data.link}),""!==e.state.image&&(clearInterval(e.state.timer),e.setState({isLoading:!1}))})).catch((function(t){console.log(t),clearInterval(e.state.timer),e.setState({isLoading:!1})}))}),1e3)}},{key:"render",value:function(){var e="";""!==this.state.image?e=Object(k.jsx)(g.a,{src:this.state.image,fluid:!0}):this.state.queue>0?e=Object(k.jsxs)("div",{children:["Rendering, you are ",this.state.queue," in the queue."]}):0===this.state.queue&&(e=Object(k.jsx)("div",{children:"Rendering, your image is being generated."}));var t,a,n,s="";this.state.shapes&&(t=Object(k.jsx)(p.a,{md:4,children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{md:6,children:Object(k.jsxs)(x.a.Group,{controlId:"shapeVertexMin",children:[Object(k.jsxs)(x.a.Label,{children:["Min vertices: ",this.state.min]}),Object(k.jsx)(x.a.Control,{min:"3",max:"10",name:"min",value:this.state.min,onChange:this.handleInputChange,type:"range"})]})}),Object(k.jsx)(p.a,{md:6,children:Object(k.jsxs)(x.a.Group,{controlId:"shapeVertexMax",children:[Object(k.jsxs)(x.a.Label,{children:["Max vertices: ",this.state.max]}),Object(k.jsx)(x.a.Control,{min:"3",max:"10",name:"max",value:this.state.max,onChange:this.handleInputChange,type:"range"})]})})]})}),a=Object(k.jsx)(p.a,{md:4,children:Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.Check,{checked:this.state.shapeStroke,onChange:this.handleInputChange,name:"shapeStroke",label:"Add a stroke to shapes",type:"checkbox",id:"Shapes"})})}),n=Object(k.jsx)(p.a,{md:4,children:Object(k.jsxs)(x.a.Group,{controlId:"strokeThickness",children:[Object(k.jsx)(x.a.Label,{children:"Stroke thickness"}),Object(k.jsx)(x.a.Control,{min:"1",max:"10",name:"strokeThickness",value:this.state.strokeThickness,onChange:this.handleInputChange,type:"range"})]})}),this.state.triangulate&&(s=Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.Check,{checked:this.state.triangulateBefore,onChange:this.handleInputChange,name:"triangulateBefore",label:"Triangulate before shapes",type:"checkbox",id:"TriangulateBefore"})})));var i="";if("upload"===this.state.imageType){var h="Select a file";null===this.state.fileUpload&&(h="Selected file"),i=Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.File,{id:"fileUpload",name:"fileUpload",label:h,onChange:this.onFileChange})})})}return Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{md:12,children:Object(k.jsx)(b,{})}),Object(k.jsx)(p.a,{md:12,children:Object(k.jsxs)(x.a,{children:[Object(k.jsxs)(m.a,{children:[Object(k.jsxs)(p.a,{md:6,children:[Object(k.jsxs)(x.a.Group,{children:[Object(k.jsx)(x.a.Label,{column:!0,mb:12,children:"An image is used as a starting point"}),Object(k.jsxs)("div",{className:"mb-12",children:[Object(k.jsx)(x.a.Check,{name:"imageType",inline:!0,label:"Upload an image",type:"radio",id:"inline-radio-1",value:"upload",checked:"upload"===this.state.imageType,onChange:this.handleInputChange}),Object(k.jsx)(x.a.Check,{name:"imageType",inline:!0,label:"Use a random image",type:"radio",id:"inline-radio-2",value:"random",checked:"random"===this.state.imageType,onChange:this.handleInputChange})]},"inline-radio")]}),i]}),Object(k.jsx)(p.a,{md:6,children:Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{md:6,children:Object(k.jsxs)(x.a.Group,{controlId:"widthGroup",children:[Object(k.jsx)(x.a.Label,{children:"Width"}),Object(k.jsx)(x.a.Control,{value:this.state.width,onChange:this.handleInputChange,name:"width",type:"Text"})]})}),Object(k.jsx)(p.a,{md:6,children:Object(k.jsxs)(x.a.Group,{controlId:"heightGroup",children:[Object(k.jsx)(x.a.Label,{children:"Height"}),Object(k.jsx)(x.a.Control,{value:this.state.height,onChange:this.handleInputChange,name:"height",type:"Text"})]})})]})})]}),Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{md:4,children:Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.Check,{checked:this.state.triangulate,onChange:this.handleInputChange,name:"triangulate",label:"Triangulate",type:"checkbox",id:"Triangulate"})})}),Object(k.jsx)(p.a,{md:4,children:Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(x.a.Check,{checked:this.state.shapes,onChange:this.handleInputChange,name:"shapes",label:"Add Shapes",type:"checkbox",id:"Shapes"})})}),a,Object(k.jsx)(p.a,{md:4,children:Object(k.jsxs)(x.a.Group,{controlId:"BlurAmount",children:[Object(k.jsx)(x.a.Label,{children:"Blur amount"}),Object(k.jsx)(x.a.Control,{min:"1",max:"10",name:"blurAmount",value:this.state.blurAmount,onChange:this.handleInputChange,type:"range"})]})}),t,n,s]}),Object(k.jsx)(x.a.Group,{children:Object(k.jsx)(f.a,{disabled:this.state.isLoading,onClick:this.toggleButtonState,variant:"primary",children:"Generate!"})})]})})]}),Object(k.jsx)(m.a,{children:Object(k.jsx)(p.a,{md:12,children:e})}),Object(k.jsx)(m.a,{children:Object(k.jsxs)(p.a,{md:12,children:[Object(k.jsx)("hr",{}),"Created by ",Object(k.jsx)("a",{href:"https://github.com/uberswe",children:"Markus Tenghamn"}),Object(k.jsx)("hr",{}),"This project uses ideas and code from ",Object(k.jsx)("a",{href:"https://github.com/esimov/triangle",children:"github.com/esimov/triangle"})," and ",Object(k.jsx)("a",{href:"https://github.com/preslavrachev/generative-art-in-go",children:"github.com/preslavrachev/generative-art-in-go"})]})})]})}},{key:"componentWillUnmount",value:function(){this.timer=null}}]),a}(s.a.Component),I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,h=t.getTTFB;a(e),n(e),s(e),i(e),h(e)}))};h.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(y,{})}),document.getElementById("root")),I()}},[[58,1,2]]]);
//# sourceMappingURL=main.a6097a99.chunk.js.map